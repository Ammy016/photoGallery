(this.webpackJsonpphotogallery=this.webpackJsonpphotogallery||[]).push([[0],[,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(5),s=c.n(r),o=(c(11),c(12),c(2)),i=(c(13),c(4)),l=c.n(i),u=c(6),j="72cede6a9c2b1adf4a0ca77b55928f74",h="",b=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,a,n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.option,a=t.searchTerm,n=t.page,e.t0=c,e.next="search"===e.t0?4:"recent"===e.t0?6:8;break;case 4:return h="?method=flickr.photos.search&api_key=".concat(j,"&text=").concat(a,"&format=json&nojsoncallback=1"),e.abrupt("break",8);case 6:return h="?method=flickr.photos.getRecent&api_key=".concat(j,"&page=").concat(n,"&format=json&nojsoncallback=1"),e.abrupt("break",8);case 8:return e.next=10,fetch("".concat("https://www.flickr.com/services/rest/").concat(h));case 10:return r=e.sent,e.next=13,r.json();case 13:return s=e.sent,e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=c(0);var O=function(){var e,t=Object(a.useRef)(null),c=Object(a.useState)([]),n=Object(o.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),u=l[0],j=l[1],h=Object(a.useState)(!1),O=Object(o.a)(h,2),p=O[0],d=O[1],m=Object(a.useState)([]),g=Object(o.a)(m,2),v=g[0],x=g[1],S=Object(a.useState)(!1),N=Object(o.a)(S,2),k=N[0],T=N[1],y=Object(a.useState)(!1),C=Object(o.a)(y,2),I=C[0],w=C[1];Object(a.useEffect)((function(){t.current.focus(),localStorage.getItem("searchTags")&&x(JSON.parse(localStorage.getItem("searchTags")))}),[]);var J=function(){var e=t.current.value;w(!0),b({option:"search",searchTerm:e}).then((function(t){s(t.photos.photo),M(e)})).catch((function(e){return console.error(e)})),j(e),T(!1),w(!1)},M=function(e){if(localStorage.getItem("searchTags")&&e){var t=JSON.parse(localStorage.getItem("searchTags"));t.find((function(t){return t===e}))||(t.unshift(e),localStorage.setItem("searchTags",JSON.stringify(t))),x(t)}else e&&(localStorage.setItem("searchTags",JSON.stringify([e])),x([e]))};return Object(f.jsxs)("div",{className:"navbar-container",children:[Object(f.jsx)("h1",{className:"navbar-title",children:"Search Photos"}),Object(f.jsx)("input",{type:"search",className:"navbar-searchBar",placeholder:"Search",ref:t,onChange:function(){return t=J,c=2e3,clearTimeout(e),void(e=setTimeout(t,c));var t,c},onClick:function(){return d(!p)}}),r.length>0?p&&u.length>0&&Object(f.jsxs)("div",{className:"searchResults",children:[Object(f.jsxs)("ul",{children:[!k&&r.map((function(e,t){if(t<5)return Object(f.jsx)("li",{className:"searchResults-list-item",children:e.title},t)})),k&&r.map((function(e,t){return Object(f.jsx)("li",{className:"searchResults-list-item",children:e.title},t)}))]}),!k&&Object(f.jsxs)("div",{className:"results-length",onClick:function(e){T(!0),e.stopPropagation(),d(!0)},children:["More than ",r.length," results"]})]}):p&&u.length>0&&!I&&Object(f.jsx)("div",{className:"searchResults",children:"No results"}),Object(f.jsx)("div",{className:"navbar-tags",children:v.map((function(e,t){return Object(f.jsx)("div",{className:"tags",children:e},t)}))})]})};c(16),c(17);var p=function(e){var t=e.picData,c=e.closeModal;return Object(f.jsx)("div",{className:"modal-container",onClick:function(){return c()},children:Object(f.jsx)("img",{src:t})})};var d=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(a.useState)(!1),j=Object(o.a)(u,2),h=j[0],O=j[1],d=Object(a.useState)(1),m=Object(o.a)(d,2),g=m[0],v=m[1],x=function(e){b({option:"recent",page:e}).then((function(t){var a=t.photos.photo.map((function(e){var t="https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg");return Object(f.jsx)("div",{className:"photoGrid-item",children:Object(f.jsx)("img",{onClick:function(){l(t),O(!0)},alt:e.title,src:t})})}));n(c.concat(a)),v(e+1)}))};return Object(a.useEffect)((function(){x(1)}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"photoGrid-container",children:c}),i&&h?Object(f.jsx)(p,{picData:i,closeModal:function(){O(!1)}}):"",Object(f.jsx)("button",{className:"loadMore",onClick:function(){return x(g)},children:"Load More"})]})};var m=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(O,{}),Object(f.jsx)(d,{})]})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,19)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root")),g()}],[[18,1,2]]]);
//# sourceMappingURL=main.35f49b5a.chunk.js.map