(this.webpackJsonpphotogallery=this.webpackJsonpphotogallery||[]).push([[0],[,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(5),s=c.n(r),o=(c(11),c(12),c(2)),i=(c(13),c(4)),l=c.n(i),u=c(6),j="72cede6a9c2b1adf4a0ca77b55928f74",h="",b=function(){var e=Object(u.a)(l.a.mark((function e(t,c){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="search"===e.t0?3:"recent"===e.t0?5:7;break;case 3:return h="?method=flickr.photos.search&api_key=".concat(j,"&text=").concat(c,"&format=json&nojsoncallback=1"),e.abrupt("break",7);case 5:return h="?method=flickr.photos.getRecent&api_key=".concat(j,"&format=json&nojsoncallback=1"),e.abrupt("break",7);case 7:return e.next=9,fetch("".concat("https://www.flickr.com/services/rest/").concat(h));case 9:return a=e.sent,e.next=12,a.json();case 12:return n=e.sent,e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),f=c(0);var O=function(){var e,t=Object(a.useRef)(null),c=Object(a.useState)([]),n=Object(o.a)(c,2),r=n[0],s=n[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),u=l[0],j=l[1],h=Object(a.useState)(!1),O=Object(o.a)(h,2),d=O[0],p=O[1],m=Object(a.useState)([]),g=Object(o.a)(m,2),v=g[0],x=g[1],S=Object(a.useState)(!1),N=Object(o.a)(S,2),k=N[0],w=N[1],T=Object(a.useState)(!1),y=Object(o.a)(T,2),C=y[0],I=y[1];Object(a.useEffect)((function(){t.current.focus(),localStorage.getItem("searchTags")&&x(JSON.parse(localStorage.getItem("searchTags")))}),[]);var J=function(){var e=t.current.value;I(!0),b("search",e).then((function(t){s(t.photos.photo),R(e)})).catch((function(e){return console.error(e)})),j(e),w(!1),I(!1)},R=function(e){if(localStorage.getItem("searchTags")&&e){var t=JSON.parse(localStorage.getItem("searchTags"));t.find((function(t){return t===e}))||(t.unshift(e),localStorage.setItem("searchTags",JSON.stringify(t))),x(t)}else e&&(localStorage.setItem("searchTags",JSON.stringify([e])),x([e]))};return Object(f.jsxs)("div",{className:"navbar-container",children:[Object(f.jsx)("h1",{className:"navbar-title",children:"Search Photos"}),Object(f.jsx)("input",{type:"search",className:"navbar-searchBar",placeholder:"Search",ref:t,onChange:function(){return t=J,c=2e3,clearTimeout(e),void(e=setTimeout(t,c));var t,c},onClick:function(){return p(!d)}}),r.length>0?d&&u.length>0&&Object(f.jsxs)("div",{className:"searchResults",children:[Object(f.jsxs)("ul",{children:[!k&&r.map((function(e,t){if(t<5)return Object(f.jsx)("li",{className:"searchResults-list-item",children:e.title},e.id)})),k&&r.map((function(e,t){return Object(f.jsx)("li",{className:"searchResults-list-item",children:e.title},e.id)}))]}),!k&&Object(f.jsxs)("div",{className:"results-length",onClick:function(e){w(!0),e.stopPropagation(),p(!0)},children:["More than ",r.length," results"]})]}):d&&u.length>0&&!C&&Object(f.jsx)("div",{className:"searchResults",children:"No results"}),Object(f.jsx)("div",{className:"navbar-tags",children:v.map((function(e,t){return Object(f.jsx)("div",{className:"tags",children:e},t)}))})]})};c(16),c(17);var d=function(e){var t=e.picData,c=e.closeModal;return Object(f.jsx)("div",{className:"modal-container",onClick:function(){return c()},children:Object(f.jsx)("img",{src:t})})};var p=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(a.useState)(0),j=Object(o.a)(u,2),h=j[0],O=j[1],p=Object(a.useState)(0),m=Object(o.a)(p,2),g=m[0],v=m[1],x=Object(a.useState)(!0),S=Object(o.a)(x,2),N=S[0],k=S[1],w=Object(a.useState)(""),T=Object(o.a)(w,2),y=T[0],C=T[1],I=Object(a.useState)(!1),J=Object(o.a)(I,2),R=J[0],F=J[1];window.onscroll=function(){window.scrollY>window.innerHeight+g&&N&&(M(),v(window.scrollY))},Object(a.useEffect)((function(){b("recent").then((function(e){var t=e.photos.photo.map((function(e,t){var c="https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg");return Object(f.jsx)("div",{className:"photoGrid-item",children:Object(f.jsx)("img",{onClick:function(){C(c),F(!0)},alt:e.title,src:c})},e.id)}));n(t);for(var c=[],a=h;a<h+20;a++)c.push(t[a]);l(c),O(20)}))}),[h]);var M=function(){if(100===h)return k(!1);for(var e=[],t=h;t<h+20;t++)e.push(c[t]);l(i.concat(e)),O(h+20)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"photoGrid-container",children:i}),y&&R?Object(f.jsx)(d,{picData:y,closeModal:function(){F(!1)}}):""]})};var m=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(O,{}),Object(f.jsx)(p,{})]})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,19)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root")),g()}],[[18,1,2]]]);
//# sourceMappingURL=main.e9613932.chunk.js.map